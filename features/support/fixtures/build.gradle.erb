apply plugin: 'java'
apply plugin: 'maven'

repositories {
    mavenLocal()
}

group = 'net.twasink'
sourceCompatibility = 1.6
version = '<%= version%>'

dependencies {
<%
  dependencies.each() { | dep |
%>  compile group: 'net.twasink', name: '<%=dep[:name].downcase%>', version: '<%=dep[:version]%>'
<%}%>
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: "file://<%=File.absolute_path(working_dir)%>/repo")
        }
    }
}


task compiledeps(type:DependencyReportTask) {
    configurations = [ project.configurations.getByName('compile') ] as Set
}